<h1 id="webrtc">WebRTC<a aria-hidden="true" class="anchor-heading icon-link" href="#webrtc"></a></h1>
<h2 id="實現webrtc的步驟">實現WebRTC的步驟<a aria-hidden="true" class="anchor-heading icon-link" href="#實現webrtc的步驟"></a></h2>
<ol>
<li>Signalling</li>
</ol>
<p>開啟直播的Peer需要提供一個offer，裡面包含SDP(session description protocol)，會寫在signal server，才能讓另一位的peer回應這個SDP。</p>
<p>需要交換的資訊：</p>
<ul>
<li>IP Address</li>
<li>audio + video tracks</li>
<li>data channels that determine the media type with a resolution exchange</li>
</ul>
<ol start="2">
<li>Connecting</li>
</ol>
<p>Peer彼此之間需要產生一個list的ICE(IP/port pair)，才能讓WebRTC透過STUN Server連接。
每個Peer一樣要將他們的ICE寫入firestore，才能讓其他peer讀到。</p>
<ul>
<li>ICE: Interactive connectivity establishment (uses STUN/TURN servers)
<ul>
<li><strong>STUN</strong> Standard Traversal Utilities for NAT
<ul>
<li>幫忙取得網路IP -> 透過發送Stun server請求</li>
</ul>
</li>
<li><strong>TURN</strong> Traversal Using Relays around NAT
<ul>
<li>幫忙處理裝置之間因為防火牆而中斷連線的server</li>
<li>These servers are used to work up with the privacy of the agents by not letting the servers locate the IP of the communicators. TURN creates a temporary IP for the agents to generate traffic to and fro, acting as a proxy.</li>
</ul>
</li>
</ul>
</li>
</ul>
<ol start="3">
<li>Securing</li>
</ol>
<ul>
<li>DTLS(Datagram Transport Layer Security)
<ul>
<li>allows webRTC to establish a secured and encrypted communication between two peers. The client and the server to communicate, need a agree on certain values known as ciphers in a DTLS handshake. To secure the data streams of the peers, DTLS is required</li>
</ul>
</li>
<li>SRTP(Secure Real-time Transport Protocol)
<ul>
<li>It secures and encrypts the media streams between two connecting peers. It is initialized by using keys generated by DTLS. This protocol is specifically designed for encrypting RTP packets.</li>
</ul>
</li>
</ul>