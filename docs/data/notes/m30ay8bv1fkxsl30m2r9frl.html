<h1 id="enumeration">Enumeration<a aria-hidden="true" class="anchor-heading icon-link" href="#enumeration"></a></h1>
<h2 id="what-is-enum">What is enum?<a aria-hidden="true" class="anchor-heading icon-link" href="#what-is-enum"></a></h2>
<p>是一個列舉型別，可以用來建立<strong>有限</strong>且<strong>相關</strong>的值集合</p>
<h2 id="declaration">Declaration<a aria-hidden="true" class="anchor-heading icon-link" href="#declaration"></a></h2>
<pre class="language-swift"><code class="language-swift"><span class="token keyword">enum</span> <span class="token class-name">Direction</span><span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> north <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"N"</span></span>
    <span class="token keyword">case</span> south <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"S"</span></span>
    <span class="token keyword">case</span> west <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"W"</span></span>
    <span class="token keyword">case</span> east <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"E"</span></span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="用enum的優勢">用enum的優勢<a aria-hidden="true" class="anchor-heading icon-link" href="#用enum的優勢"></a></h2>
<ul>
<li>
<p>Type Safety → compile-time check</p>
</li>
<li>
<p>Readability &#x26; Maintainability: 減少其他人看code需要的通靈技能</p>
<pre class="language-swift"><code class="language-swift"><span class="token keyword">enum</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token function">mammal</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> legs<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token function">bird</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> wingspan<span class="token punctuation">:</span> <span class="token class-name">Double</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token function">fish</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> lion <span class="token operator">=</span> <span class="token class-name">Animal</span><span class="token punctuation">.</span><span class="token function">mammal</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Lion"</span></span><span class="token punctuation">,</span> legs<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> eagle <span class="token operator">=</span> <span class="token class-name">Animal</span><span class="token punctuation">.</span><span class="token function">bird</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Eagle"</span></span><span class="token punctuation">,</span> wingspan<span class="token punctuation">:</span> <span class="token number">2.5</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> goldfish <span class="token operator">=</span> <span class="token class-name">Animal</span><span class="token punctuation">.</span><span class="token function">fish</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Goldfish"</span></span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Gold"</span></span><span class="token punctuation">)</span>
</code></pre>
</li>
<li>
<p>Extensibility：可以輕鬆擴展 / 修改 case value</p>
<pre class="language-swift"><code class="language-swift"><span class="token keyword">enum</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token function">mammal</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> legs<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span>
      <span class="token keyword">case</span> <span class="token function">bird</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> wingspan<span class="token punctuation">:</span> <span class="token class-name">Double</span><span class="token punctuation">)</span>
      <span class="token keyword">case</span> <span class="token function">fish</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span>
      <span class="token keyword">case</span> <span class="token function">reptile</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> scales<span class="token punctuation">:</span> <span class="token class-name">Bool</span><span class="token punctuation">)</span>  <span class="token comment">// Add reptile type</span>
  <span class="token punctuation">}</span>
</code></pre>
</li>
</ul>
<h2 id="use-cases">Use Cases<a aria-hidden="true" class="anchor-heading icon-link" href="#use-cases"></a></h2>
<ol>
<li>
<p>表示狀態</p>
<pre class="language-swift"><code class="language-swift"><span class="token keyword">enum</span> <span class="token class-name">OrderStatus</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> pending
    <span class="token keyword">case</span> processing
    <span class="token keyword">case</span> shipped
    <span class="token keyword">case</span> delivered
    <span class="token keyword">case</span> cancelled
<span class="token punctuation">}</span>
</code></pre>
</li>
<li>
<p>搭配<code>associated value</code>當作容器：</p>
<pre class="language-swift"><code class="language-swift"><span class="token comment">// 1. 定義 Message 容器</span>
<span class="token keyword">enum</span> <span class="token class-name">Message</span><span class="token punctuation">:</span> <span class="token class-name">Codable</span> <span class="token punctuation">{</span>
    <span class="token keyword">enum</span> <span class="token class-name">MediaType</span><span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Codable</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> image
        <span class="token keyword">case</span> video
        <span class="token keyword">case</span> audio
    <span class="token punctuation">}</span>

    <span class="token keyword">case</span> <span class="token function">text</span><span class="token punctuation">(</span>payload<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token function">media</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> <span class="token class-name">MediaType</span><span class="token punctuation">,</span> payload<span class="token punctuation">:</span> <span class="token class-name">Data</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2. 建立 Message instance</span>
<span class="token keyword">let</span> message<span class="token punctuation">:</span> <span class="token class-name">Message</span> <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>payload<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Hello"</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> imageMessage<span class="token punctuation">:</span> <span class="token class-name">Message</span> <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token function">media</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> <span class="token punctuation">.</span>image<span class="token punctuation">,</span> payload<span class="token punctuation">:</span> <span class="token class-name">Data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 3. 取出 Message 容器內的 data</span>
<span class="token function">convertMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
<span class="token function">convertMessage</span><span class="token punctuation">(</span>imageMessage<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function-definition function">convertMessage</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> message<span class="token punctuation">:</span> <span class="token class-name">Message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> message <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token keyword">let</span> text<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"this is a text message: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">text</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token keyword">let</span> <span class="token punctuation">.</span><span class="token function">media</span><span class="token punctuation">(</span>media<span class="token punctuation">,</span> payload<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"this is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">media</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> message with Data: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">payload</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</li>
</ol>