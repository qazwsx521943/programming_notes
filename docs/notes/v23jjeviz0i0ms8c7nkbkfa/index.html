<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/programming_notes/favicon.ico"/><title>Data Structure</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal Knowledge Space"/><meta property="og:title" content="Data Structure"/><meta property="og:description" content="Personal Knowledge Space"/><meta property="og:url" content="https://qazwsx521943.github.io/programming_notes/notes/v23jjeviz0i0ms8c7nkbkfa/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2023/11/26"/><meta property="article:modified_time" content="2023/11/26"/><link rel="canonical" href="https://qazwsx521943.github.io/programming_notes/notes/v23jjeviz0i0ms8c7nkbkfa/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/programming_notes/_next/static/css/b0cd2e9ac14c3b4a.css" as="style"/><link rel="stylesheet" href="/programming_notes/_next/static/css/b0cd2e9ac14c3b4a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/programming_notes/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/programming_notes/_next/static/chunks/webpack-228838cbd1a05a99.js" defer=""></script><script src="/programming_notes/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/programming_notes/_next/static/chunks/main-ae055e704e2f54e8.js" defer=""></script><script src="/programming_notes/_next/static/chunks/pages/_app-c5ac04a5d7ae899a.js" defer=""></script><script src="/programming_notes/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/programming_notes/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/programming_notes/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/programming_notes/_next/static/nSFlPafzYJhNeKeOHrNay/_buildManifest.js" defer=""></script><script src="/programming_notes/_next/static/nSFlPafzYJhNeKeOHrNay/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="data-structure">Data Structure<a aria-hidden="true" class="anchor-heading icon-link" href="#data-structure"></a></h1>
<h2 id="struct-vs-class-vs-actor">Struct vs Class vs Actor<a aria-hidden="true" class="anchor-heading icon-link" href="#struct-vs-class-vs-actor"></a></h2>
<h3 id="struct">struct<a aria-hidden="true" class="anchor-heading icon-link" href="#struct"></a></h3>
<pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">MyStruct</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> title<span class="token punctuation">:</span> <span class="token class-name">String</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> structObject <span class="token operator">=</span> <span class="token class-name">MyStruct</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"myStruct"</span></span><span class="token punctuation">)</span>

structObject<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"updated myStruct"</span></span> <span class="token comment">// This one is a whole new struct object</span>
</code></pre>
<h3 id="class">Class<a aria-hidden="true" class="anchor-heading icon-link" href="#class"></a></h3>
<h3 id="actor">Actor<a aria-hidden="true" class="anchor-heading icon-link" href="#actor"></a></h3>
<pre class="language-swift"><code class="language-swift"><span class="token keyword">actor</span> <span class="token class-name">MyDataManager</span> <span class="token punctuation">{</span>
 <span class="token keyword">static</span> <span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token class-name">MyDataManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

 <span class="token keyword">private</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

 <span class="token keyword">var</span> data<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

 <span class="token keyword">func</span> <span class="token function-definition function">getRandomData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span><span class="token operator">?</span> <span class="token punctuation">{</span>
  <span class="token keyword">self</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">UUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>uuidString<span class="token punctuation">)</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span>current<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token keyword">self</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">randomElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<blockquote>
<p>Classes that are thread safe.</p>
</blockquote>
<h2 id="class-vs-struct-">Class vs Struct ?<a aria-hidden="true" class="anchor-heading icon-link" href="#class-vs-struct-"></a></h2>
<p>There is much less need to worry about memory leaks or multiple threads racing to access / modeify a single instance of a variable.</p>
<h2 id="value-vs-reference-types">Value vs Reference types<a aria-hidden="true" class="anchor-heading icon-link" href="#value-vs-reference-types"></a></h2>
<div class="table-responsive">














































<table><thead><tr><th>types</th><th align="center">Struct</th><th align="center">Class</th><th align="center">Actor</th><th align="center">Function</th></tr></thead><tbody><tr><td>type</td><td align="center">Value</td><td align="center">Reference</td><td align="center">Reference</td><td align="center">Reference</td></tr><tr><td>Stored in</td><td align="center">Stack</td><td align="center">Heap</td><td align="center">Heap</td><td align="center">Heap</td></tr><tr><td>Speed</td><td align="center">Faster</td><td align="center">Slower</td><td align="center">Slower</td><td align="center"></td></tr><tr><td>Thread safe</td><td align="center">V</td><td align="center">X</td><td align="center">V</td><td align="center">X</td></tr><tr><td>Inheritance</td><td align="center">X</td><td align="center">V</td><td align="center">X</td><td align="center">X</td></tr></tbody></table></div>
<h2 id="stack-vs-heap">Stack vs Heap<a aria-hidden="true" class="anchor-heading icon-link" href="#stack-vs-heap"></a></h2>
<p>Value based data types are stored in stack</p>
<p>Reference based data types are stored in heap</p>
<h3 id="stack">Stack<a aria-hidden="true" class="anchor-heading icon-link" href="#stack"></a></h3>
<ul>
<li>Each thread has it's own stack!</li>
<li>Variables allocated on the stack are stored directly to the memory, and access to this memory is very fast</li>
</ul>
<h3 id="heap">Heap<a aria-hidden="true" class="anchor-heading icon-link" href="#heap"></a></h3>
<ul>
<li>Shared across threads!</li>
</ul>
<p><img src="/programming_notes/assets/images/project%20brainstorming.flavor%20flash%20journal.thread_struct_heap.png"></p>
<h2 id="automatic-reference-counting-arc">Automatic Reference Counting (ARC)<a aria-hidden="true" class="anchor-heading icon-link" href="#automatic-reference-counting-arc"></a></h2>
<p>value types such as structures and enumerations are just copying the data to data. Therefore it's not affected by ARC.</p>
<p>ARC is used to track and manage the app's memory usage. When class instances are no longer needed, ARC automatically frees up the memory used by that class.</p>
<p>這也是為什麼esacaping closure通常會需要標註<code>weak self</code>的原因，以免當某個class不需要被使用時，卻因為某個closure中有引用到strong self而無法正常釋放記憶體。</p>
<h2 id="situations-when-choosing-different-data-types">Situations when choosing different data types<a aria-hidden="true" class="anchor-heading icon-link" href="#situations-when-choosing-different-data-types"></a></h2>
<ol>
<li>
<p>Structs:</p>
<ol>
<li>Data Models</li>
<li>SwiftUI Views</li>
</ol>
</li>
<li>
<p>Classes:</p>
<ol>
<li>ViewModels</li>
</ol>
</li>
<li>
<p>Actors:</p>
<ol>
<li>Shared 'Manager' / 'Data Store'</li>
</ol>
</li>
</ol>
<p>References:</p>
<ul>
<li><a href="https://www.backblaze.com/blog/whats-the-diff-programs-processes-and-threads/">https://www.backblaze.com/blog/whats-the-diff-programs-processes-and-threads/</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#struct-vs-class-vs-actor" title="Struct vs Class vs Actor">Struct vs Class vs Actor</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#struct" title="struct">struct</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#class" title="Class">Class</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#actor" title="Actor">Actor</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#class-vs-struct-" title="Class vs Struct ?">Class vs Struct ?</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#value-vs-reference-types" title="Value vs Reference types">Value vs Reference types</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#stack-vs-heap" title="Stack vs Heap">Stack vs Heap</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#stack" title="Stack">Stack</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#heap" title="Heap">Heap</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#automatic-reference-counting-arc" title="Automatic Reference Counting (ARC)">Automatic Reference Counting (ARC)</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#situations-when-choosing-different-data-types" title="Situations when choosing different data types">Situations when choosing different data types</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"v23jjeviz0i0ms8c7nkbkfa","title":"Data Structure","desc":"","updated":1700989300590,"created":1700968290364,"custom":{},"fname":"programming.side projects.flavor flash journal.data structure","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Dendron"},"contentHash":"6149a05134bd1a93958636cf5e1a500a","links":[],"anchors":{"struct-vs-class-vs-actor":{"type":"header","text":"Struct vs Class vs Actor","value":"struct-vs-class-vs-actor","line":8,"column":0,"depth":2},"struct":{"type":"header","text":"struct","value":"struct","line":10,"column":0,"depth":3},"class":{"type":"header","text":"Class","value":"class","line":22,"column":0,"depth":3},"actor":{"type":"header","text":"Actor","value":"actor","line":24,"column":0,"depth":3},"class-vs-struct-":{"type":"header","text":"Class vs Struct ?","value":"class-vs-struct-","line":44,"column":0,"depth":2},"value-vs-reference-types":{"type":"header","text":"Value vs Reference types","value":"value-vs-reference-types","line":48,"column":0,"depth":2},"stack-vs-heap":{"type":"header","text":"Stack vs Heap","value":"stack-vs-heap","line":58,"column":0,"depth":2},"stack":{"type":"header","text":"Stack","value":"stack","line":64,"column":0,"depth":3},"heap":{"type":"header","text":"Heap","value":"heap","line":69,"column":0,"depth":3},"automatic-reference-counting-arc":{"type":"header","text":"Automatic Reference Counting (ARC)","value":"automatic-reference-counting-arc","line":75,"column":0,"depth":2},"situations-when-choosing-different-data-types":{"type":"header","text":"Situations when choosing different data types","value":"situations-when-choosing-different-data-types","line":83,"column":0,"depth":2}},"children":[],"parent":"gzy1xz97zvnttb8urqpfhh3","data":{}},"body":"\u003ch1 id=\"data-structure\"\u003eData Structure\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#data-structure\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch2 id=\"struct-vs-class-vs-actor\"\u003eStruct vs Class vs Actor\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#struct-vs-class-vs-actor\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"struct\"\u003estruct\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#struct\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cpre class=\"language-swift\"\u003e\u003ccode class=\"language-swift\"\u003e\u003cspan class=\"token keyword\"\u003estruct\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMyStruct\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e title\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e structObject \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMyStruct\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003etitle\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token string-literal\"\u003e\u003cspan class=\"token string\"\u003e\"myStruct\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\nstructObject\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etitle \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string-literal\"\u003e\u003cspan class=\"token string\"\u003e\"updated myStruct\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// This one is a whole new struct object\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"class\"\u003eClass\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#class\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003ch3 id=\"actor\"\u003eActor\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#actor\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cpre class=\"language-swift\"\u003e\u003ccode class=\"language-swift\"\u003e\u003cspan class=\"token keyword\"\u003eactor\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMyDataManager\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n \u003cspan class=\"token keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e instance \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMyDataManager\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token keyword\"\u003einit\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n \u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e data\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\n \u003cspan class=\"token keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"token function-definition function\"\u003egetRandomData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003e\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e\u003cspan class=\"token operator\"\u003e?\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eself\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edata\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eappend\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003eUUID\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003euuidString\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token function\"\u003eprint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eThread\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecurrent\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eself\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edata\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003erandomElement\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003eClasses that are thread safe.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"class-vs-struct-\"\u003eClass vs Struct ?\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#class-vs-struct-\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eThere is much less need to worry about memory leaks or multiple threads racing to access / modeify a single instance of a variable.\u003c/p\u003e\n\u003ch2 id=\"value-vs-reference-types\"\u003eValue vs Reference types\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#value-vs-reference-types\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cdiv class=\"table-responsive\"\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003ctable\u003e\u003cthead\u003e\u003ctr\u003e\u003cth\u003etypes\u003c/th\u003e\u003cth align=\"center\"\u003eStruct\u003c/th\u003e\u003cth align=\"center\"\u003eClass\u003c/th\u003e\u003cth align=\"center\"\u003eActor\u003c/th\u003e\u003cth align=\"center\"\u003eFunction\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd\u003etype\u003c/td\u003e\u003ctd align=\"center\"\u003eValue\u003c/td\u003e\u003ctd align=\"center\"\u003eReference\u003c/td\u003e\u003ctd align=\"center\"\u003eReference\u003c/td\u003e\u003ctd align=\"center\"\u003eReference\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eStored in\u003c/td\u003e\u003ctd align=\"center\"\u003eStack\u003c/td\u003e\u003ctd align=\"center\"\u003eHeap\u003c/td\u003e\u003ctd align=\"center\"\u003eHeap\u003c/td\u003e\u003ctd align=\"center\"\u003eHeap\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eSpeed\u003c/td\u003e\u003ctd align=\"center\"\u003eFaster\u003c/td\u003e\u003ctd align=\"center\"\u003eSlower\u003c/td\u003e\u003ctd align=\"center\"\u003eSlower\u003c/td\u003e\u003ctd align=\"center\"\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eThread safe\u003c/td\u003e\u003ctd align=\"center\"\u003eV\u003c/td\u003e\u003ctd align=\"center\"\u003eX\u003c/td\u003e\u003ctd align=\"center\"\u003eV\u003c/td\u003e\u003ctd align=\"center\"\u003eX\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eInheritance\u003c/td\u003e\u003ctd align=\"center\"\u003eX\u003c/td\u003e\u003ctd align=\"center\"\u003eV\u003c/td\u003e\u003ctd align=\"center\"\u003eX\u003c/td\u003e\u003ctd align=\"center\"\u003eX\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003c/div\u003e\n\u003ch2 id=\"stack-vs-heap\"\u003eStack vs Heap\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#stack-vs-heap\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eValue based data types are stored in stack\u003c/p\u003e\n\u003cp\u003eReference based data types are stored in heap\u003c/p\u003e\n\u003ch3 id=\"stack\"\u003eStack\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#stack\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eEach thread has it's own stack!\u003c/li\u003e\n\u003cli\u003eVariables allocated on the stack are stored directly to the memory, and access to this memory is very fast\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"heap\"\u003eHeap\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#heap\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eShared across threads!\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg src=\"/programming_notes/assets/images/project%20brainstorming.flavor%20flash%20journal.thread_struct_heap.png\"\u003e\u003c/p\u003e\n\u003ch2 id=\"automatic-reference-counting-arc\"\u003eAutomatic Reference Counting (ARC)\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#automatic-reference-counting-arc\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003evalue types such as structures and enumerations are just copying the data to data. Therefore it's not affected by ARC.\u003c/p\u003e\n\u003cp\u003eARC is used to track and manage the app's memory usage. When class instances are no longer needed, ARC automatically frees up the memory used by that class.\u003c/p\u003e\n\u003cp\u003e這也是為什麼esacaping closure通常會需要標註\u003ccode\u003eweak self\u003c/code\u003e的原因，以免當某個class不需要被使用時，卻因為某個closure中有引用到strong self而無法正常釋放記憶體。\u003c/p\u003e\n\u003ch2 id=\"situations-when-choosing-different-data-types\"\u003eSituations when choosing different data types\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#situations-when-choosing-different-data-types\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eStructs:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eData Models\u003c/li\u003e\n\u003cli\u003eSwiftUI Views\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eClasses:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eViewModels\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eActors:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eShared 'Manager' / 'Data Store'\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eReferences:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.backblaze.com/blog/whats-the-diff-programs-processes-and-threads/\"\u003ehttps://www.backblaze.com/blog/whats-the-diff-programs-processes-and-threads/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"root","title":"root","desc":"","updated":1605266684036,"created":1595961348801,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Dendron"},"contentHash":"b49e7e13a0c91addc8ab9ef97080cf1e","links":[],"anchors":{},"children":["p1jj2aztluo4pb12qn8gunp","avquk6puzxi790rxzodnfmh","rn0e0y5coqo8iyqfxd7ocsk","c1bs7wsjfbhb0zipaywqv1"],"parent":null,"data":{},"body":"\nThis is the root for your Dendron vault.\n\nIf you decide to publish your entire vault, it will be your landing page. You are free to customize any part of this page except the frontmatter at the top, between the `---`.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableSelfContainedVaults":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":".","selfContained":true,"name":"Dendron"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"taskCompleteStatus":["done","x"],"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"Personal Knowledge Space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"search","siteUrl":"https://qazwsx521943.github.io","assetsPrefix":"/programming_notes","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"v23jjeviz0i0ms8c7nkbkfa"},"buildId":"nSFlPafzYJhNeKeOHrNay","assetPrefix":"/programming_notes","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>